"use strict";!function(e){e.fn.circliful=function(t,r){var o=e.extend({foregroundColor:"#3498DB",backgroundColor:"#ccc",pointColor:"none",fillColor:"none",foregroundBorderWidth:15,backgroundBorderWidth:15,pointSize:28.5,fontColor:"#aaa",percent:75,animation:1,animationStep:5,icon:"none",iconSize:"30",iconColor:"#ccc",iconPosition:"top",target:0,start:0,showPercent:1,percentageTextSize:22,textAdditionalCss:"",targetPercent:0,targetTextSize:17,targetColor:"#2980B9",text:null,textStyle:null,textColor:"#666",multiPercentage:0,percentages:null,textBelow:!1,noPercentageSign:!1,replacePercentageByText:null,halfCircle:!1},t);return this.each(function(){var t,l,n,c=e(this),a=o.percent,i=83,s=100,x=110,d=100,g=o.backgroundBorderWidth;if(o.halfCircle?"left"==o.iconPosition?(s=80,i=100,d=117,x=100):o.halfCircle&&(i=80,x=100):"bottom"==o.iconPosition?(i=124,x=95):"left"==o.iconPosition?(s=80,i=110,d=117):"middle"==o.iconPosition?1==o.multiPercentage?"object"==typeof o.percentages?g=30:(i=110,l='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>',l+='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>',d=228,x=47):(i=110,l='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="133" y1="50" x2="140" y2="40" stroke-width="2"  /></g>',l+='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="140" y1="40" x2="200" y2="40" stroke-width="2"  /></g>',d=175,x=35):"right"==o.iconPosition&&(s=120,i=110,d=80),o.targetPercent>0&&(x=95,l='<g stroke="'+("none"!=o.backgroundColor?o.backgroundColor:"#ccc")+'" ><line x1="75" y1="101" x2="125" y2="101" stroke-width="1"  /></g>',l+='<text text-anchor="middle" x="'+d+'" y="120" style="font-size: '+o.targetTextSize+'px;" fill="'+o.targetColor+'">'+o.targetPercent+(o.noPercentageSign&&null==o.replacePercentageByText?"":"%")+"</text>",l+='<circle cx="100" cy="100" r="69" fill="none" stroke="'+o.backgroundColor+'" stroke-width="3" stroke-dasharray="450" transform="rotate(-90,100,100)" />',l+='<circle cx="100" cy="100" r="69" fill="none" stroke="'+o.targetColor+'" stroke-width="3" stroke-dasharray="'+3.6*o.targetPercent+', 20000" transform="rotate(-90,100,100)" />'),null!=o.text&&(o.halfCircle?o.textBelow?l+='<text text-anchor="middle" x="100" y="120" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>":0==o.multiPercentage?l+='<text text-anchor="middle" x="100" y="115" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>":1==o.multiPercentage&&(l+='<text text-anchor="middle" x="228" y="65" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>"):o.textBelow?l+='<text text-anchor="middle" x="100" y="190" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>":0==o.multiPercentage?l+='<text text-anchor="middle" x="100" y="115" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>":1==o.multiPercentage&&(l+='<text text-anchor="middle" x="228" y="65" style="'+o.textStyle+'" fill="'+o.textColor+'">'+o.text+"</text>")),"none"!=o.icon&&(n='<text text-anchor="middle" x="'+s+'" y="'+i+'" class="icon" style="font-size: '+o.iconSize+'px" fill="'+o.iconColor+'">&#x'+o.icon+"</text>"),o.halfCircle){var f='transform="rotate(-180,100,100)"';c.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">'+l+'<clipPath id="cut-off-bottom"> <rect x="100" y="0" width="100" height="200" /> </clipPath><circle cx="100" cy="100" r="57" class="border" fill="'+o.fillColor+'" stroke="'+o.backgroundColor+'" stroke-width="'+g+'" stroke-dasharray="360" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="'+o.foregroundColor+'" stroke-width="'+o.foregroundBorderWidth+'" stroke-dasharray="0,20000" '+f+' /><circle cx="100" cy="100" r="'+o.pointSize+'" fill="'+o.pointColor+'" clip-path="url(#cut-off-bottom)" transform="rotate(-90,100,100)" />'+n+'<text class="timer" text-anchor="middle" x="'+d+'" y="'+x+'" style="font-size: '+o.percentageTextSize+"px; "+t+";"+o.textAdditionalCss+'" fill="'+o.fontColor+'">'+(null==o.replacePercentageByText?0:o.replacePercentageByText)+(o.noPercentageSign||null!=o.replacePercentageByText?"":"%")+"</text>"))}else c.addClass("svg-container").append(e('<svg xmlns="http://www.w3.org/2000/svg" version="1.1" viewBox="0 0 194 186" class="circliful">'+l+'<circle cx="100" cy="100" r="57" class="border" fill="'+o.fillColor+'" stroke="'+o.backgroundColor+'" stroke-width="'+g+'" stroke-dasharray="360" transform="rotate(-90,100,100)" /><circle class="circle" cx="100" cy="100" r="57" class="border" fill="none" stroke="'+o.foregroundColor+'" stroke-width="'+o.foregroundBorderWidth+'" stroke-dasharray="0,20000" transform="rotate(-90,100,100)" /><circle cx="100" cy="100" r="'+o.pointSize+'" fill="'+o.pointColor+'" />'+n+'<text class="timer" text-anchor="middle" x="'+d+'" y="'+x+'" style="font-size: '+o.percentageTextSize+"px; "+t+";"+o.textAdditionalCss+'" fill="'+o.fontColor+'">'+(null==o.replacePercentageByText?0:o.replacePercentageByText)+(o.noPercentageSign||null!=o.replacePercentageByText?"":"%")+"</text>"));var y=c.find(".circle"),h=c.find(".timer"),u=30,C=0,p=o.animationStep,k=0,P=0,m=0,w=a,b=3.6*a;if(o.halfCircle&&(b=3.6*a/2),null!=o.replacePercentageByText&&(w=o.replacePercentageByText),o.start>0&&o.target>0&&(a=o.start/(o.target/100),m=o.target/100),1==o.animation)var S=window.setInterval(function(){C>=b?(window.clearInterval(S),k=1,"function"==typeof r&&r.call(this)):(C+=p,P+=m),C/3.6>=a&&1==k&&(C=3.6*a),P>o.target&&1==k&&(P=o.target),null==o.replacePercentageByText&&(w=o.halfCircle?parseInt(100*C/360*2):parseInt(100*C/360)),y.attr("stroke-dasharray",C+", 20000"),1==o.showPercent?h.text(w+(o.noPercentageSign||null!=o.replacePercentageByText?"":"%")):h.text(P)}.bind(y),u);else y.attr("stroke-dasharray",b+", 20000"),1==o.showPercent?h.text(w+(o.noPercentageSign?"":"%")):h.text(o.target)})}}(jQuery);
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1haW4uanMiXSwibmFtZXMiOlsiJCIsImZuIiwiY2lyY2xpZnVsIiwib3B0aW9ucyIsImNhbGxiYWNrIiwic2V0dGluZ3MiLCJleHRlbmQiLCJmb3JlZ3JvdW5kQ29sb3IiLCJiYWNrZ3JvdW5kQ29sb3IiLCJwb2ludENvbG9yIiwiZmlsbENvbG9yIiwiZm9yZWdyb3VuZEJvcmRlcldpZHRoIiwiYmFja2dyb3VuZEJvcmRlcldpZHRoIiwicG9pbnRTaXplIiwiZm9udENvbG9yIiwicGVyY2VudCIsImFuaW1hdGlvbiIsImFuaW1hdGlvblN0ZXAiLCJpY29uIiwiaWNvblNpemUiLCJpY29uQ29sb3IiLCJpY29uUG9zaXRpb24iLCJ0YXJnZXQiLCJzdGFydCIsInNob3dQZXJjZW50IiwicGVyY2VudGFnZVRleHRTaXplIiwidGV4dEFkZGl0aW9uYWxDc3MiLCJ0YXJnZXRQZXJjZW50IiwidGFyZ2V0VGV4dFNpemUiLCJ0YXJnZXRDb2xvciIsInRleHQiLCJ0ZXh0U3R5bGUiLCJ0ZXh0Q29sb3IiLCJtdWx0aVBlcmNlbnRhZ2UiLCJwZXJjZW50YWdlcyIsInRleHRCZWxvdyIsIm5vUGVyY2VudGFnZVNpZ24iLCJyZXBsYWNlUGVyY2VudGFnZUJ5VGV4dCIsImhhbGZDaXJjbGUiLCJ0aGlzIiwiZWFjaCIsImFkZGl0aW9uYWxDc3MiLCJlbGVtZW50cyIsImNpcmNsZUNvbnRhaW5lciIsImljb25ZIiwiaWNvblgiLCJ0ZXh0WSIsInRleHRYIiwicm90YXRlIiwiYWRkQ2xhc3MiLCJhcHBlbmQiLCJjaXJjbGUiLCJmaW5kIiwibXlUaW1lciIsImludGVydmFsIiwiYW5nbGUiLCJhbmdsZUluY3JlbWVudCIsImxhc3QiLCJzdW1tYXJ5Iiwib25lU3RlcCIsImNhbGN1bGF0ZUZpbGwiLCJ0aW1lciIsIndpbmRvdyIsInNldEludGVydmFsIiwiY2xlYXJJbnRlcnZhbCIsImNhbGwiLCJwYXJzZUludCIsImF0dHIiLCJiaW5kIiwialF1ZXJ5Il0sIm1hcHBpbmdzIjoiQUFBQSxjQUVDLFNBQVVBLEdBRVBBLEVBQUVDLEdBQUdDLFVBQVksU0FBVUMsRUFBU0MsR0FFaEMsR0FBSUMsR0FBV0wsRUFBRU0sUUFHYkMsZ0JBQWlCLFVBQ2pCQyxnQkFBaUIsT0FDakJDLFdBQVksT0FDWkMsVUFBVyxPQUNYQyxzQkFBdUIsR0FDdkJDLHNCQUF1QixHQUN2QkMsVUFBVyxLQUNYQyxVQUFXLE9BQ1hDLFFBQVMsR0FDVEMsVUFBVyxFQUNYQyxjQUFlLEVBQ2ZDLEtBQU0sT0FDTkMsU0FBVSxLQUNWQyxVQUFXLE9BQ1hDLGFBQWMsTUFDZEMsT0FBUSxFQUNSQyxNQUFPLEVBQ1BDLFlBQWEsRUFDYkMsbUJBQW9CLEdBQ3BCQyxrQkFBbUIsR0FDbkJDLGNBQWUsRUFDZkMsZUFBZ0IsR0FDaEJDLFlBQWEsVUFDYkMsS0FBTSxLQUNOQyxVQUFXLEtBQ1hDLFVBQVcsT0FDWEMsZ0JBQWlCLEVBQ2pCQyxZQUFhLEtBQ2JDLFdBQVcsRUFDWEMsa0JBQWtCLEVBQ2xCQyx3QkFBeUIsS0FDekJDLFlBQVksR0FDYm5DLEVBRUgsT0FBT29DLE1BQUtDLEtBQUssV0FDYixHQU1JQyxHQUNBQyxFQUNBeEIsRUFSQXlCLEVBQWtCM0MsRUFBRXVDLE1BQ3BCeEIsRUFBVVYsRUFBU1UsUUFDbkI2QixFQUFRLEdBQ1JDLEVBQVEsSUFDUkMsRUFBUSxJQUNSQyxFQUFRLElBSVJuQyxFQUF3QlAsRUFBU08scUJBaUZyQyxJQS9FR1AsRUFBU2lDLFdBQ29CLFFBQXpCakMsRUFBU2dCLGNBQ1J3QixFQUFRLEdBQ1JELEVBQVEsSUFDUkcsRUFBUSxJQUNSRCxFQUFRLEtBQ0Z6QyxFQUFTaUMsYUFDZk0sRUFBUSxHQUNSRSxFQUFRLEtBR2lCLFVBQXpCekMsRUFBU2dCLGNBQ1R1QixFQUFRLElBQ1JFLEVBQVEsSUFDd0IsUUFBekJ6QyxFQUFTZ0IsY0FDaEJ3QixFQUFRLEdBQ1JELEVBQVEsSUFDUkcsRUFBUSxLQUN3QixVQUF6QjFDLEVBQVNnQixhQUNnQixHQUE1QmhCLEVBQVM0QixnQkFDMEIsZ0JBQXhCNUIsR0FBUzZCLFlBQ2hCdEIsRUFBd0IsSUFFeEJnQyxFQUFRLElBQ1JGLEVBQVcsZUFBNkMsUUFBNUJyQyxFQUFTRyxnQkFBNEJILEVBQVNHLGdCQUFrQixRQUFVLHNFQUN0R2tDLEdBQVksZUFBNkMsUUFBNUJyQyxFQUFTRyxnQkFBNEJILEVBQVNHLGdCQUFrQixRQUFVLHNFQUN2R3VDLEVBQVEsSUFDUkQsRUFBUSxLQUdaRixFQUFRLElBQ1JGLEVBQVcsZUFBNkMsUUFBNUJyQyxFQUFTRyxnQkFBNEJILEVBQVNHLGdCQUFrQixRQUFVLHNFQUN0R2tDLEdBQVksZUFBNkMsUUFBNUJyQyxFQUFTRyxnQkFBNEJILEVBQVNHLGdCQUFrQixRQUFVLHNFQUN2R3VDLEVBQVEsSUFDUkQsRUFBUSxJQUVvQixTQUF6QnpDLEVBQVNnQixlQUNoQndCLEVBQVEsSUFDUkQsRUFBUSxJQUNSRyxFQUFRLElBSWIxQyxFQUFTc0IsY0FBZ0IsSUFDeEJtQixFQUFRLEdBQ1JKLEVBQVcsZUFBNkMsUUFBNUJyQyxFQUFTRyxnQkFBNEJILEVBQVNHLGdCQUFrQixRQUFVLHVFQUN0R2tDLEdBQVksaUNBQW1DSyxFQUFRLCtCQUFpQzFDLEVBQVN1QixlQUFpQixjQUFnQnZCLEVBQVN3QixZQUFjLEtBQU94QixFQUFTc0IsZUFBaUJ0QixFQUFTK0Isa0JBQXdELE1BQXBDL0IsRUFBU2dDLHdCQUFrQyxHQUFLLEtBQU8sVUFDOVFLLEdBQVksd0RBQTBEckMsRUFBU0csZ0JBQWtCLCtFQUNqR2tDLEdBQVksd0RBQTBEckMsRUFBU3dCLFlBQWMsd0NBQTJDLElBQVl4QixFQUFTc0IsY0FBaUIsK0NBRzdKLE1BQWpCdEIsRUFBU3lCLE9BQ056QixFQUFTaUMsV0FDSmpDLEVBQVM4QixVQUNUTyxHQUFZLHFEQUF1RHJDLEVBQVMwQixVQUFZLFdBQWExQixFQUFTMkIsVUFBWSxLQUFPM0IsRUFBU3lCLEtBQU8sVUFFaEgsR0FBNUJ6QixFQUFTNEIsZ0JBQ2RTLEdBQVkscURBQXVEckMsRUFBUzBCLFVBQVksV0FBYTFCLEVBQVMyQixVQUFZLEtBQU8zQixFQUFTeUIsS0FBTyxVQUVqSCxHQUE1QnpCLEVBQVM0QixrQkFDYlMsR0FBWSxvREFBc0RyQyxFQUFTMEIsVUFBWSxXQUFhMUIsRUFBUzJCLFVBQVksS0FBTzNCLEVBQVN5QixLQUFPLFdBR2hKekIsRUFBUzhCLFVBQ1RPLEdBQVkscURBQXVEckMsRUFBUzBCLFVBQVksV0FBYTFCLEVBQVMyQixVQUFZLEtBQU8zQixFQUFTeUIsS0FBTyxVQUVoSCxHQUE1QnpCLEVBQVM0QixnQkFDZFMsR0FBWSxxREFBdURyQyxFQUFTMEIsVUFBWSxXQUFhMUIsRUFBUzJCLFVBQVksS0FBTzNCLEVBQVN5QixLQUFPLFVBRWpILEdBQTVCekIsRUFBUzRCLGtCQUNiUyxHQUFZLG9EQUFzRHJDLEVBQVMwQixVQUFZLFdBQWExQixFQUFTMkIsVUFBWSxLQUFPM0IsRUFBU3lCLEtBQU8sWUFLdkksUUFBakJ6QixFQUFTYSxPQUNUQSxFQUFPLGlDQUFtQzJCLEVBQVEsUUFBVUQsRUFBUSxvQ0FBc0N2QyxFQUFTYyxTQUFXLGFBQWVkLEVBQVNlLFVBQVksUUFBVWYsRUFBU2EsS0FBTyxXQUc3TGIsRUFBU2lDLFdBQVksQ0FDcEIsR0FBSVUsR0FBUyxrQ0FDYkwsR0FDS00sU0FBUyxpQkFDVEMsT0FDR2xELEVBQUUsaUdBQ0UwQyxFQUNBLG1KQUMyRHJDLEVBQVNLLFVBQVksYUFBZUwsRUFBU0csZ0JBQWtCLG1CQUFxQkksRUFBd0Isa0xBQy9FUCxFQUFTRSxnQkFBa0IsbUJBQXFCRixFQUFTTSxzQkFBd0IsZ0NBQWtDcUMsRUFBUyxtQ0FDbEwzQyxFQUFTUSxVQUFZLFdBQWFSLEVBQVNJLFdBQWEsd0VBQzFGUyxFQUNBLCtDQUFpRDZCLEVBQVEsUUFBVUQsRUFBUSx1QkFBeUJ6QyxFQUFTb0IsbUJBQXFCLE9BQVNnQixFQUFnQixJQUFNcEMsRUFBU3FCLGtCQUFvQixXQUFhckIsRUFBU1MsVUFBWSxNQUEyQyxNQUFwQ1QsRUFBU2dDLHdCQUFrQyxFQUFJaEMsRUFBU2dDLDBCQUE0QmhDLEVBQVMrQixrQkFBd0QsTUFBcEMvQixFQUFTZ0Msd0JBQWtDLEdBQUssS0FBTyxnQkFHM1pNLEdBQ0tNLFNBQVMsaUJBQ1RDLE9BQ0dsRCxFQUFFLGlHQUNFMEMsRUFDQSx5REFBMkRyQyxFQUFTSyxVQUFZLGFBQWVMLEVBQVNHLGdCQUFrQixtQkFBcUJJLEVBQXdCLGlKQUMvRVAsRUFBU0UsZ0JBQWtCLG1CQUFxQkYsRUFBU00sc0JBQXdCLCtGQUN2SU4sRUFBU1EsVUFBWSxXQUFhUixFQUFTSSxXQUFhLE9BQzFGUyxFQUNBLCtDQUFpRDZCLEVBQVEsUUFBVUQsRUFBUSx1QkFBeUJ6QyxFQUFTb0IsbUJBQXFCLE9BQVNnQixFQUFnQixJQUFNcEMsRUFBU3FCLGtCQUFvQixXQUFhckIsRUFBU1MsVUFBWSxNQUEyQyxNQUFwQ1QsRUFBU2dDLHdCQUFrQyxFQUFJaEMsRUFBU2dDLDBCQUE0QmhDLEVBQVMrQixrQkFBd0QsTUFBcEMvQixFQUFTZ0Msd0JBQWtDLEdBQUssS0FBTyxXQUkvWixJQUFJYyxHQUFTUixFQUFnQlMsS0FBSyxXQUM5QkMsRUFBVVYsRUFBZ0JTLEtBQUssVUFDL0JFLEVBQVcsR0FDWEMsRUFBUSxFQUNSQyxFQUFpQm5ELEVBQVNZLGNBQzFCd0MsRUFBTyxFQUNQQyxFQUFVLEVBQ1ZDLEVBQVUsRUFDVjdCLEVBQU9mLEVBQ1A2QyxFQUFpQixJQUFZN0MsQ0FlakMsSUFiR1YsRUFBU2lDLGFBQ1JzQixFQUFpQixJQUFZN0MsRUFBVyxHQUdMLE1BQXBDVixFQUFTZ0MsMEJBQ1JQLEVBQU96QixFQUFTZ0MseUJBR2hCaEMsRUFBU2tCLE1BQVEsR0FBS2xCLEVBQVNpQixPQUFTLElBQ3hDUCxFQUFVVixFQUFTa0IsT0FBU2xCLEVBQVNpQixPQUFTLEtBQzlDcUMsRUFBVXRELEVBQVNpQixPQUFTLEtBR04sR0FBdEJqQixFQUFTVyxVQUNULEdBQUk2QyxHQUFRQyxPQUFPQyxZQUFZLFdBQ3ZCLEdBQVdILEdBQ1hFLE9BQU9FLGNBQWNILEdBQ3JCSixFQUFPLEVBQ2Usa0JBQVpyRCxJQUVOQSxFQUFTNkQsS0FBSzFCLFFBR2xCZ0IsR0FBU0MsRUFDVEUsR0FBV0MsR0FHWEosRUFBUSxLQUFPeEMsR0FBbUIsR0FBUjBDLElBQzFCRixFQUFRLElBQU14QyxHQUdkMkMsRUFBVXJELEVBQVNpQixRQUFrQixHQUFSbUMsSUFDN0JDLEVBQVVyRCxFQUFTaUIsUUFHZ0IsTUFBcENqQixFQUFTZ0MsMEJBRUpQLEVBRER6QixFQUFTaUMsV0FDRDRCLFNBQVUsSUFBTVgsRUFBUSxJQUFPLEdBRS9CVyxTQUFVLElBQU1YLEVBQVEsTUFJdkNKLEVBQ0tnQixLQUFLLG1CQUFvQlosRUFBUSxXQUVWLEdBQXhCbEQsRUFBU21CLFlBQ1Q2QixFQUNLdkIsS0FBS0EsR0FBUXpCLEVBQVMrQixrQkFBd0QsTUFBcEMvQixFQUFTZ0Msd0JBQWtDLEdBQUssTUFFL0ZnQixFQUNLdkIsS0FBSzRCLElBR2hCVSxLQUFLakIsR0FBU0csT0FFaEJILEdBQ0tnQixLQUFLLG1CQUFvQlAsRUFBZ0IsV0FFbEIsR0FBeEJ2RCxFQUFTbUIsWUFDVDZCLEVBQ0t2QixLQUFLQSxHQUFRekIsRUFBUytCLGlCQUFtQixHQUFLLE1BRW5EaUIsRUFDS3ZCLEtBQUt6QixFQUFTaUIsWUFLckMrQyIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2Ugc3RyaWN0XCI7XG5cbihmdW5jdGlvbiAoJCkge1xuXG4gICAgJC5mbi5jaXJjbGlmdWwgPSBmdW5jdGlvbiAob3B0aW9ucywgY2FsbGJhY2spIHtcblxuICAgICAgICB2YXIgc2V0dGluZ3MgPSAkLmV4dGVuZCh7XG4gICAgICAgICAgICAvLyBUaGVzZSBhcmUgdGhlIGRlZmF1bHRzLlxuICAgICAgICAgICAgLy9zdGFydERlZ3JlZTogMCxcbiAgICAgICAgICAgIGZvcmVncm91bmRDb2xvcjogXCIjMzQ5OERCXCIsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiI2NjY1wiLFxuICAgICAgICAgICAgcG9pbnRDb2xvcjogXCJub25lXCIsXG4gICAgICAgICAgICBmaWxsQ29sb3I6ICdub25lJyxcbiAgICAgICAgICAgIGZvcmVncm91bmRCb3JkZXJXaWR0aDogMTUsXG4gICAgICAgICAgICBiYWNrZ3JvdW5kQm9yZGVyV2lkdGg6IDE1LFxuICAgICAgICAgICAgcG9pbnRTaXplOiAyOC41LFxuICAgICAgICAgICAgZm9udENvbG9yOiAnI2FhYScsXG4gICAgICAgICAgICBwZXJjZW50OiA3NSxcbiAgICAgICAgICAgIGFuaW1hdGlvbjogMSxcbiAgICAgICAgICAgIGFuaW1hdGlvblN0ZXA6IDUsXG4gICAgICAgICAgICBpY29uOiAnbm9uZScsXG4gICAgICAgICAgICBpY29uU2l6ZTogJzMwJyxcbiAgICAgICAgICAgIGljb25Db2xvcjogJyNjY2MnLFxuICAgICAgICAgICAgaWNvblBvc2l0aW9uOiAndG9wJyxcbiAgICAgICAgICAgIHRhcmdldDogMCxcbiAgICAgICAgICAgIHN0YXJ0OiAwLFxuICAgICAgICAgICAgc2hvd1BlcmNlbnQ6IDEsXG4gICAgICAgICAgICBwZXJjZW50YWdlVGV4dFNpemU6IDIyLFxuICAgICAgICAgICAgdGV4dEFkZGl0aW9uYWxDc3M6ICcnLFxuICAgICAgICAgICAgdGFyZ2V0UGVyY2VudDogMCxcbiAgICAgICAgICAgIHRhcmdldFRleHRTaXplOiAxNyxcbiAgICAgICAgICAgIHRhcmdldENvbG9yOiAnIzI5ODBCOScsXG4gICAgICAgICAgICB0ZXh0OiBudWxsLFxuICAgICAgICAgICAgdGV4dFN0eWxlOiBudWxsLFxuICAgICAgICAgICAgdGV4dENvbG9yOiAnIzY2NicsXG4gICAgICAgICAgICBtdWx0aVBlcmNlbnRhZ2U6IDAsXG4gICAgICAgICAgICBwZXJjZW50YWdlczogbnVsbCxcbiAgICAgICAgICAgIHRleHRCZWxvdzogZmFsc2UsXG4gICAgICAgICAgICBub1BlcmNlbnRhZ2VTaWduOiBmYWxzZSxcbiAgICAgICAgICAgIHJlcGxhY2VQZXJjZW50YWdlQnlUZXh0OiBudWxsLFxuICAgICAgICAgICAgaGFsZkNpcmNsZTogZmFsc2VcbiAgICAgICAgfSwgb3B0aW9ucyk7XG5cbiAgICAgICAgcmV0dXJuIHRoaXMuZWFjaChmdW5jdGlvbiAoKSB7XG4gICAgICAgICAgICB2YXIgY2lyY2xlQ29udGFpbmVyID0gJCh0aGlzKTtcbiAgICAgICAgICAgIHZhciBwZXJjZW50ID0gc2V0dGluZ3MucGVyY2VudDtcbiAgICAgICAgICAgIHZhciBpY29uWSA9IDgzO1xuICAgICAgICAgICAgdmFyIGljb25YID0gMTAwO1xuICAgICAgICAgICAgdmFyIHRleHRZID0gMTEwO1xuICAgICAgICAgICAgdmFyIHRleHRYID0gMTAwO1xuICAgICAgICAgICAgdmFyIGFkZGl0aW9uYWxDc3M7XG4gICAgICAgICAgICB2YXIgZWxlbWVudHM7XG4gICAgICAgICAgICB2YXIgaWNvbjtcbiAgICAgICAgICAgIHZhciBiYWNrZ3JvdW5kQm9yZGVyV2lkdGggPSBzZXR0aW5ncy5iYWNrZ3JvdW5kQm9yZGVyV2lkdGg7XG5cbiAgICAgICAgICAgIGlmKHNldHRpbmdzLmhhbGZDaXJjbGUpIHtcbiAgICAgICAgICAgICAgICBpZihzZXR0aW5ncy5pY29uUG9zaXRpb24gPT0gJ2xlZnQnKSB7XG4gICAgICAgICAgICAgICAgICAgIGljb25YID0gODA7XG4gICAgICAgICAgICAgICAgICAgIGljb25ZID0gMTAwO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0WCA9IDExNztcbiAgICAgICAgICAgICAgICAgICAgdGV4dFkgPSAxMDA7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmKHNldHRpbmdzLmhhbGZDaXJjbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWNvblkgPSA4MDtcbiAgICAgICAgICAgICAgICAgICAgdGV4dFkgPSAxMDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3MuaWNvblBvc2l0aW9uID09ICdib3R0b20nKSB7XG4gICAgICAgICAgICAgICAgICAgIGljb25ZID0gMTI0O1xuICAgICAgICAgICAgICAgICAgICB0ZXh0WSA9IDk1O1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2V0dGluZ3MuaWNvblBvc2l0aW9uID09ICdsZWZ0Jykge1xuICAgICAgICAgICAgICAgICAgICBpY29uWCA9IDgwO1xuICAgICAgICAgICAgICAgICAgICBpY29uWSA9IDExMDtcbiAgICAgICAgICAgICAgICAgICAgdGV4dFggPSAxMTc7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChzZXR0aW5ncy5pY29uUG9zaXRpb24gPT0gJ21pZGRsZScpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLm11bHRpUGVyY2VudGFnZSA9PSAxKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mIHNldHRpbmdzLnBlcmNlbnRhZ2VzID09IFwib2JqZWN0XCIpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBiYWNrZ3JvdW5kQm9yZGVyV2lkdGggPSAzMDtcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWNvblkgPSAxMTA7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgPSAnPGcgc3Ryb2tlPVwiJyArIChzZXR0aW5ncy5iYWNrZ3JvdW5kQ29sb3IgIT0gJ25vbmUnID8gc2V0dGluZ3MuYmFja2dyb3VuZENvbG9yIDogJyNjY2MnKSArICdcIiA+PGxpbmUgeDE9XCIxMzNcIiB5MT1cIjUwXCIgeDI9XCIxNDBcIiB5Mj1cIjQwXCIgc3Ryb2tlLXdpZHRoPVwiMlwiICAvPjwvZz4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGVsZW1lbnRzICs9ICc8ZyBzdHJva2U9XCInICsgKHNldHRpbmdzLmJhY2tncm91bmRDb2xvciAhPSAnbm9uZScgPyBzZXR0aW5ncy5iYWNrZ3JvdW5kQ29sb3IgOiAnI2NjYycpICsgJ1wiID48bGluZSB4MT1cIjE0MFwiIHkxPVwiNDBcIiB4Mj1cIjIwMFwiIHkyPVwiNDBcIiBzdHJva2Utd2lkdGg9XCIyXCIgIC8+PC9nPic7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFggPSAyMjg7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFkgPSA0NztcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGljb25ZID0gMTEwO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgPSAnPGcgc3Ryb2tlPVwiJyArIChzZXR0aW5ncy5iYWNrZ3JvdW5kQ29sb3IgIT0gJ25vbmUnID8gc2V0dGluZ3MuYmFja2dyb3VuZENvbG9yIDogJyNjY2MnKSArICdcIiA+PGxpbmUgeDE9XCIxMzNcIiB5MT1cIjUwXCIgeDI9XCIxNDBcIiB5Mj1cIjQwXCIgc3Ryb2tlLXdpZHRoPVwiMlwiICAvPjwvZz4nO1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgKz0gJzxnIHN0cm9rZT1cIicgKyAoc2V0dGluZ3MuYmFja2dyb3VuZENvbG9yICE9ICdub25lJyA/IHNldHRpbmdzLmJhY2tncm91bmRDb2xvciA6ICcjY2NjJykgKyAnXCIgPjxsaW5lIHgxPVwiMTQwXCIgeTE9XCI0MFwiIHgyPVwiMjAwXCIgeTI9XCI0MFwiIHN0cm9rZS13aWR0aD1cIjJcIiAgLz48L2c+JztcbiAgICAgICAgICAgICAgICAgICAgICAgIHRleHRYID0gMTc1O1xuICAgICAgICAgICAgICAgICAgICAgICAgdGV4dFkgPSAzNTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoc2V0dGluZ3MuaWNvblBvc2l0aW9uID09ICdyaWdodCcpIHtcbiAgICAgICAgICAgICAgICAgICAgaWNvblggPSAxMjA7XG4gICAgICAgICAgICAgICAgICAgIGljb25ZID0gMTEwO1xuICAgICAgICAgICAgICAgICAgICB0ZXh0WCA9IDgwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoc2V0dGluZ3MudGFyZ2V0UGVyY2VudCA+IDApIHtcbiAgICAgICAgICAgICAgICB0ZXh0WSA9IDk1O1xuICAgICAgICAgICAgICAgIGVsZW1lbnRzID0gJzxnIHN0cm9rZT1cIicgKyAoc2V0dGluZ3MuYmFja2dyb3VuZENvbG9yICE9ICdub25lJyA/IHNldHRpbmdzLmJhY2tncm91bmRDb2xvciA6ICcjY2NjJykgKyAnXCIgPjxsaW5lIHgxPVwiNzVcIiB5MT1cIjEwMVwiIHgyPVwiMTI1XCIgeTI9XCIxMDFcIiBzdHJva2Utd2lkdGg9XCIxXCIgIC8+PC9nPic7XG4gICAgICAgICAgICAgICAgZWxlbWVudHMgKz0gJzx0ZXh0IHRleHQtYW5jaG9yPVwibWlkZGxlXCIgeD1cIicgKyB0ZXh0WCArICdcIiB5PVwiMTIwXCIgc3R5bGU9XCJmb250LXNpemU6ICcgKyBzZXR0aW5ncy50YXJnZXRUZXh0U2l6ZSArICdweDtcIiBmaWxsPVwiJyArIHNldHRpbmdzLnRhcmdldENvbG9yICsgJ1wiPicgKyBzZXR0aW5ncy50YXJnZXRQZXJjZW50ICsgKHNldHRpbmdzLm5vUGVyY2VudGFnZVNpZ24gJiYgc2V0dGluZ3MucmVwbGFjZVBlcmNlbnRhZ2VCeVRleHQgPT0gbnVsbCA/ICcnIDogJyUnKSArICc8L3RleHQ+JztcbiAgICAgICAgICAgICAgICBlbGVtZW50cyArPSAnPGNpcmNsZSBjeD1cIjEwMFwiIGN5PVwiMTAwXCIgcj1cIjY5XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCInICsgc2V0dGluZ3MuYmFja2dyb3VuZENvbG9yICsgJ1wiIHN0cm9rZS13aWR0aD1cIjNcIiBzdHJva2UtZGFzaGFycmF5PVwiNDUwXCIgdHJhbnNmb3JtPVwicm90YXRlKC05MCwxMDAsMTAwKVwiIC8+JztcbiAgICAgICAgICAgICAgICBlbGVtZW50cyArPSAnPGNpcmNsZSBjeD1cIjEwMFwiIGN5PVwiMTAwXCIgcj1cIjY5XCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCInICsgc2V0dGluZ3MudGFyZ2V0Q29sb3IgKyAnXCIgc3Ryb2tlLXdpZHRoPVwiM1wiIHN0cm9rZS1kYXNoYXJyYXk9XCInICsgKDM2MCAvIDEwMCAqIHNldHRpbmdzLnRhcmdldFBlcmNlbnQpICsgJywgMjAwMDBcIiB0cmFuc2Zvcm09XCJyb3RhdGUoLTkwLDEwMCwxMDApXCIgLz4nO1xuICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICBpZiAoc2V0dGluZ3MudGV4dCAhPSBudWxsKXtcbiAgICAgICAgICAgICAgICBpZihzZXR0aW5ncy5oYWxmQ2lyY2xlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy50ZXh0QmVsb3cpe1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgKz0gJzx0ZXh0IHRleHQtYW5jaG9yPVwibWlkZGxlXCIgeD1cIjEwMFwiIHk9XCIxMjBcIiBzdHlsZT1cIicgKyBzZXR0aW5ncy50ZXh0U3R5bGUgKyAnXCIgZmlsbD1cIicgKyBzZXR0aW5ncy50ZXh0Q29sb3IgKyAnXCI+JyArIHNldHRpbmdzLnRleHQgKyAnPC90ZXh0Pic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2V0dGluZ3MubXVsdGlQZXJjZW50YWdlID09IDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgKz0gJzx0ZXh0IHRleHQtYW5jaG9yPVwibWlkZGxlXCIgeD1cIjEwMFwiIHk9XCIxMTVcIiBzdHlsZT1cIicgKyBzZXR0aW5ncy50ZXh0U3R5bGUgKyAnXCIgZmlsbD1cIicgKyBzZXR0aW5ncy50ZXh0Q29sb3IgKyAnXCI+JyArIHNldHRpbmdzLnRleHQgKyAnPC90ZXh0Pic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihzZXR0aW5ncy5tdWx0aVBlcmNlbnRhZ2UgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgKz0gJzx0ZXh0IHRleHQtYW5jaG9yPVwibWlkZGxlXCIgeD1cIjIyOFwiIHk9XCI2NVwiIHN0eWxlPVwiJyArIHNldHRpbmdzLnRleHRTdHlsZSArICdcIiBmaWxsPVwiJyArIHNldHRpbmdzLnRleHRDb2xvciArICdcIj4nICsgc2V0dGluZ3MudGV4dCArICc8L3RleHQ+JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChzZXR0aW5ncy50ZXh0QmVsb3cpe1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgKz0gJzx0ZXh0IHRleHQtYW5jaG9yPVwibWlkZGxlXCIgeD1cIjEwMFwiIHk9XCIxOTBcIiBzdHlsZT1cIicgKyBzZXR0aW5ncy50ZXh0U3R5bGUgKyAnXCIgZmlsbD1cIicgKyBzZXR0aW5ncy50ZXh0Q29sb3IgKyAnXCI+JyArIHNldHRpbmdzLnRleHQgKyAnPC90ZXh0Pic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZiAoc2V0dGluZ3MubXVsdGlQZXJjZW50YWdlID09IDApe1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgKz0gJzx0ZXh0IHRleHQtYW5jaG9yPVwibWlkZGxlXCIgeD1cIjEwMFwiIHk9XCIxMTVcIiBzdHlsZT1cIicgKyBzZXR0aW5ncy50ZXh0U3R5bGUgKyAnXCIgZmlsbD1cIicgKyBzZXR0aW5ncy50ZXh0Q29sb3IgKyAnXCI+JyArIHNldHRpbmdzLnRleHQgKyAnPC90ZXh0Pic7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgZWxzZSBpZihzZXR0aW5ncy5tdWx0aVBlcmNlbnRhZ2UgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgKz0gJzx0ZXh0IHRleHQtYW5jaG9yPVwibWlkZGxlXCIgeD1cIjIyOFwiIHk9XCI2NVwiIHN0eWxlPVwiJyArIHNldHRpbmdzLnRleHRTdHlsZSArICdcIiBmaWxsPVwiJyArIHNldHRpbmdzLnRleHRDb2xvciArICdcIj4nICsgc2V0dGluZ3MudGV4dCArICc8L3RleHQ+JztcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLmljb24gIT0gJ25vbmUnKSB7XG4gICAgICAgICAgICAgICAgaWNvbiA9ICc8dGV4dCB0ZXh0LWFuY2hvcj1cIm1pZGRsZVwiIHg9XCInICsgaWNvblggKyAnXCIgeT1cIicgKyBpY29uWSArICdcIiBjbGFzcz1cImljb25cIiBzdHlsZT1cImZvbnQtc2l6ZTogJyArIHNldHRpbmdzLmljb25TaXplICsgJ3B4XCIgZmlsbD1cIicgKyBzZXR0aW5ncy5pY29uQ29sb3IgKyAnXCI+JiN4JyArIHNldHRpbmdzLmljb24gKyAnPC90ZXh0Pic7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIGlmKHNldHRpbmdzLmhhbGZDaXJjbGUpIHtcbiAgICAgICAgICAgICAgICB2YXIgcm90YXRlID0gJ3RyYW5zZm9ybT1cInJvdGF0ZSgtMTgwLDEwMCwxMDApXCInO1xuICAgICAgICAgICAgICAgIGNpcmNsZUNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3N2Zy1jb250YWluZXInKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmVyc2lvbj1cIjEuMVwiIHZpZXdCb3g9XCIwIDAgMTk0IDE4NlwiIGNsYXNzPVwiY2lyY2xpZnVsXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8Y2xpcFBhdGggaWQ9XCJjdXQtb2ZmLWJvdHRvbVwiPiA8cmVjdCB4PVwiMTAwXCIgeT1cIjBcIiB3aWR0aD1cIjEwMFwiIGhlaWdodD1cIjIwMFwiIC8+IDwvY2xpcFBhdGg+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxjaXJjbGUgY3g9XCIxMDBcIiBjeT1cIjEwMFwiIHI9XCI1N1wiIGNsYXNzPVwiYm9yZGVyXCIgZmlsbD1cIicgKyBzZXR0aW5ncy5maWxsQ29sb3IgKyAnXCIgc3Ryb2tlPVwiJyArIHNldHRpbmdzLmJhY2tncm91bmRDb2xvciArICdcIiBzdHJva2Utd2lkdGg9XCInICsgYmFja2dyb3VuZEJvcmRlcldpZHRoICsgJ1wiIHN0cm9rZS1kYXNoYXJyYXk9XCIzNjBcIiBjbGlwLXBhdGg9XCJ1cmwoI2N1dC1vZmYtYm90dG9tKVwiIHRyYW5zZm9ybT1cInJvdGF0ZSgtOTAsMTAwLDEwMClcIiAvPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8Y2lyY2xlIGNsYXNzPVwiY2lyY2xlXCIgY3g9XCIxMDBcIiBjeT1cIjEwMFwiIHI9XCI1N1wiIGNsYXNzPVwiYm9yZGVyXCIgZmlsbD1cIm5vbmVcIiBzdHJva2U9XCInICsgc2V0dGluZ3MuZm9yZWdyb3VuZENvbG9yICsgJ1wiIHN0cm9rZS13aWR0aD1cIicgKyBzZXR0aW5ncy5mb3JlZ3JvdW5kQm9yZGVyV2lkdGggKyAnXCIgc3Ryb2tlLWRhc2hhcnJheT1cIjAsMjAwMDBcIiAnICsgcm90YXRlICsgJyAvPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8Y2lyY2xlIGN4PVwiMTAwXCIgY3k9XCIxMDBcIiByPVwiJyArIHNldHRpbmdzLnBvaW50U2l6ZSArICdcIiBmaWxsPVwiJyArIHNldHRpbmdzLnBvaW50Q29sb3IgKyAnXCIgY2xpcC1wYXRoPVwidXJsKCNjdXQtb2ZmLWJvdHRvbSlcIiB0cmFuc2Zvcm09XCJyb3RhdGUoLTkwLDEwMCwxMDApXCIgLz4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHRleHQgY2xhc3M9XCJ0aW1lclwiIHRleHQtYW5jaG9yPVwibWlkZGxlXCIgeD1cIicgKyB0ZXh0WCArICdcIiB5PVwiJyArIHRleHRZICsgJ1wiIHN0eWxlPVwiZm9udC1zaXplOiAnICsgc2V0dGluZ3MucGVyY2VudGFnZVRleHRTaXplICsgJ3B4OyAnICsgYWRkaXRpb25hbENzcyArICc7JyArIHNldHRpbmdzLnRleHRBZGRpdGlvbmFsQ3NzICsgJ1wiIGZpbGw9XCInICsgc2V0dGluZ3MuZm9udENvbG9yICsgJ1wiPicrIChzZXR0aW5ncy5yZXBsYWNlUGVyY2VudGFnZUJ5VGV4dCA9PSBudWxsID8gMCA6IHNldHRpbmdzLnJlcGxhY2VQZXJjZW50YWdlQnlUZXh0KSArIChzZXR0aW5ncy5ub1BlcmNlbnRhZ2VTaWduIHx8IHNldHRpbmdzLnJlcGxhY2VQZXJjZW50YWdlQnlUZXh0ICE9IG51bGwgPyAnJyA6ICclJykgKyAnPC90ZXh0PicpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNpcmNsZUNvbnRhaW5lclxuICAgICAgICAgICAgICAgICAgICAuYWRkQ2xhc3MoJ3N2Zy1jb250YWluZXInKVxuICAgICAgICAgICAgICAgICAgICAuYXBwZW5kKFxuICAgICAgICAgICAgICAgICAgICAgICAgJCgnPHN2ZyB4bWxucz1cImh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnXCIgdmVyc2lvbj1cIjEuMVwiIHZpZXdCb3g9XCIwIDAgMTk0IDE4NlwiIGNsYXNzPVwiY2lyY2xpZnVsXCI+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgZWxlbWVudHMgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8Y2lyY2xlIGN4PVwiMTAwXCIgY3k9XCIxMDBcIiByPVwiNTdcIiBjbGFzcz1cImJvcmRlclwiIGZpbGw9XCInICsgc2V0dGluZ3MuZmlsbENvbG9yICsgJ1wiIHN0cm9rZT1cIicgKyBzZXR0aW5ncy5iYWNrZ3JvdW5kQ29sb3IgKyAnXCIgc3Ryb2tlLXdpZHRoPVwiJyArIGJhY2tncm91bmRCb3JkZXJXaWR0aCArICdcIiBzdHJva2UtZGFzaGFycmF5PVwiMzYwXCIgdHJhbnNmb3JtPVwicm90YXRlKC05MCwxMDAsMTAwKVwiIC8+JyArXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgJzxjaXJjbGUgY2xhc3M9XCJjaXJjbGVcIiBjeD1cIjEwMFwiIGN5PVwiMTAwXCIgcj1cIjU3XCIgY2xhc3M9XCJib3JkZXJcIiBmaWxsPVwibm9uZVwiIHN0cm9rZT1cIicgKyBzZXR0aW5ncy5mb3JlZ3JvdW5kQ29sb3IgKyAnXCIgc3Ryb2tlLXdpZHRoPVwiJyArIHNldHRpbmdzLmZvcmVncm91bmRCb3JkZXJXaWR0aCArICdcIiBzdHJva2UtZGFzaGFycmF5PVwiMCwyMDAwMFwiIHRyYW5zZm9ybT1cInJvdGF0ZSgtOTAsMTAwLDEwMClcIiAvPicgK1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgICc8Y2lyY2xlIGN4PVwiMTAwXCIgY3k9XCIxMDBcIiByPVwiJyArIHNldHRpbmdzLnBvaW50U2l6ZSArICdcIiBmaWxsPVwiJyArIHNldHRpbmdzLnBvaW50Q29sb3IgKyAnXCIgLz4nICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpY29uICtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAnPHRleHQgY2xhc3M9XCJ0aW1lclwiIHRleHQtYW5jaG9yPVwibWlkZGxlXCIgeD1cIicgKyB0ZXh0WCArICdcIiB5PVwiJyArIHRleHRZICsgJ1wiIHN0eWxlPVwiZm9udC1zaXplOiAnICsgc2V0dGluZ3MucGVyY2VudGFnZVRleHRTaXplICsgJ3B4OyAnICsgYWRkaXRpb25hbENzcyArICc7JyArIHNldHRpbmdzLnRleHRBZGRpdGlvbmFsQ3NzICsgJ1wiIGZpbGw9XCInICsgc2V0dGluZ3MuZm9udENvbG9yICsgJ1wiPicrIChzZXR0aW5ncy5yZXBsYWNlUGVyY2VudGFnZUJ5VGV4dCA9PSBudWxsID8gMCA6IHNldHRpbmdzLnJlcGxhY2VQZXJjZW50YWdlQnlUZXh0KSArIChzZXR0aW5ncy5ub1BlcmNlbnRhZ2VTaWduIHx8IHNldHRpbmdzLnJlcGxhY2VQZXJjZW50YWdlQnlUZXh0ICE9IG51bGwgPyAnJyA6ICclJykgKyAnPC90ZXh0PicpXG4gICAgICAgICAgICAgICAgICAgICk7XG4gICAgICAgICAgICB9XG5cbiAgICAgICAgICAgIHZhciBjaXJjbGUgPSBjaXJjbGVDb250YWluZXIuZmluZCgnLmNpcmNsZScpO1xuICAgICAgICAgICAgdmFyIG15VGltZXIgPSBjaXJjbGVDb250YWluZXIuZmluZCgnLnRpbWVyJyk7XG4gICAgICAgICAgICB2YXIgaW50ZXJ2YWwgPSAzMDtcbiAgICAgICAgICAgIHZhciBhbmdsZSA9IDA7XG4gICAgICAgICAgICB2YXIgYW5nbGVJbmNyZW1lbnQgPSBzZXR0aW5ncy5hbmltYXRpb25TdGVwO1xuICAgICAgICAgICAgdmFyIGxhc3QgPSAwO1xuICAgICAgICAgICAgdmFyIHN1bW1hcnkgPSAwO1xuICAgICAgICAgICAgdmFyIG9uZVN0ZXAgPSAwO1xuICAgICAgICAgICAgdmFyIHRleHQgPSBwZXJjZW50O1xuICAgICAgICAgICAgdmFyIGNhbGN1bGF0ZUZpbGwgPSAoMzYwIC8gMTAwICogcGVyY2VudCk7XG5cbiAgICAgICAgICAgIGlmKHNldHRpbmdzLmhhbGZDaXJjbGUpIHtcbiAgICAgICAgICAgICAgICBjYWxjdWxhdGVGaWxsID0gKDM2MCAvIDEwMCAqIHBlcmNlbnQpIC8gMjtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYoc2V0dGluZ3MucmVwbGFjZVBlcmNlbnRhZ2VCeVRleHQgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgIHRleHQgPSBzZXR0aW5ncy5yZXBsYWNlUGVyY2VudGFnZUJ5VGV4dDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLnN0YXJ0ID4gMCAmJiBzZXR0aW5ncy50YXJnZXQgPiAwKSB7XG4gICAgICAgICAgICAgICAgcGVyY2VudCA9IHNldHRpbmdzLnN0YXJ0IC8gKHNldHRpbmdzLnRhcmdldCAvIDEwMCk7XG4gICAgICAgICAgICAgICAgb25lU3RlcCA9IHNldHRpbmdzLnRhcmdldCAvIDEwMDtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgaWYgKHNldHRpbmdzLmFuaW1hdGlvbiA9PSAxKSB7XG4gICAgICAgICAgICAgICAgdmFyIHRpbWVyID0gd2luZG93LnNldEludGVydmFsKGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKChhbmdsZSkgPj0gY2FsY3VsYXRlRmlsbCkge1xuICAgICAgICAgICAgICAgICAgICAgICAgd2luZG93LmNsZWFySW50ZXJ2YWwodGltZXIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgbGFzdCA9IDE7XG4gICAgICAgICAgICAgICAgICAgICAgICBpZih0eXBlb2YgY2FsbGJhY2sgPT0gJ2Z1bmN0aW9uJylcbiAgICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjay5jYWxsKHRoaXMpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgICAgYW5nbGUgKz0gYW5nbGVJbmNyZW1lbnQ7XG4gICAgICAgICAgICAgICAgICAgICAgICBzdW1tYXJ5ICs9IG9uZVN0ZXA7XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBpZiAoYW5nbGUgLyAzLjYgPj0gcGVyY2VudCAmJiBsYXN0ID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGFuZ2xlID0gMy42ICogcGVyY2VudDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmIChzdW1tYXJ5ID4gc2V0dGluZ3MudGFyZ2V0ICYmIGxhc3QgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3VtbWFyeSA9IHNldHRpbmdzLnRhcmdldDtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgICAgIGlmKHNldHRpbmdzLnJlcGxhY2VQZXJjZW50YWdlQnlUZXh0ID09IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHNldHRpbmdzLmhhbGZDaXJjbGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gcGFyc2VJbnQoKDEwMCAqIGFuZ2xlIC8gMzYwKSAqIDIpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0ID0gcGFyc2VJbnQoKDEwMCAqIGFuZ2xlIC8gMzYwKSk7XG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgICAgICBjaXJjbGVcbiAgICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKFwic3Ryb2tlLWRhc2hhcnJheVwiLCBhbmdsZSArIFwiLCAyMDAwMFwiKTtcblxuICAgICAgICAgICAgICAgICAgICBpZiAoc2V0dGluZ3Muc2hvd1BlcmNlbnQgPT0gMSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgbXlUaW1lclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIC50ZXh0KHRleHQgKyAoc2V0dGluZ3Mubm9QZXJjZW50YWdlU2lnbiB8fCBzZXR0aW5ncy5yZXBsYWNlUGVyY2VudGFnZUJ5VGV4dCAhPSBudWxsID8gJycgOiAnJScpKTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIG15VGltZXJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAudGV4dChzdW1tYXJ5KTtcbiAgICAgICAgICAgICAgICAgICAgfVxuXG4gICAgICAgICAgICAgICAgfS5iaW5kKGNpcmNsZSksIGludGVydmFsKTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgY2lyY2xlXG4gICAgICAgICAgICAgICAgICAgIC5hdHRyKFwic3Ryb2tlLWRhc2hhcnJheVwiLCBjYWxjdWxhdGVGaWxsICsgXCIsIDIwMDAwXCIpO1xuXG4gICAgICAgICAgICAgICAgaWYgKHNldHRpbmdzLnNob3dQZXJjZW50ID09IDEpIHtcbiAgICAgICAgICAgICAgICAgICAgbXlUaW1lclxuICAgICAgICAgICAgICAgICAgICAgICAgLnRleHQodGV4dCArIChzZXR0aW5ncy5ub1BlcmNlbnRhZ2VTaWduID8gJycgOiAnJScpKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICBteVRpbWVyXG4gICAgICAgICAgICAgICAgICAgICAgICAudGV4dChzZXR0aW5ncy50YXJnZXQpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgfVxufShqUXVlcnkpKTsiXSwic291cmNlUm9vdCI6Ii9zb3VyY2UvIn0=
